package com.seek.collection.list;

import java.util.ArrayList;
import java.util.LinkedList;

public class ArrayListAndLinkedListDemo {
	private static ArrayList<Integer> arrayList = new ArrayList<>();
	private static LinkedList<Integer> linkedList = new LinkedList<>();
	private static int NUM = 8360000;
	
	public static void main(String[] args) {
		
		//尾部顺序添加数据 一般来说是ArrayList效率比较高。
		//但是这个结果很大不确定性！！！！，数组每次达到容量时，都会非配原来容量的一半。接下来的插入到尾部就很快了
		//链表每次都需要新分配一个节点的内存来存储元素。添加到尾部并不需要从头遍历链表，因为它内部已经保存了尾部元素的引用。直接添加到尾部就可以了
		//不同的数据量，会有不同的执行结果,NUM = 15160000时，array_tail_add 耗时:15068 list_tail_add 耗时:11874
		//							   NUM = 1160000时，array_tail_add 耗时:186 list_tail_add 耗时:554
		
		array_tail_add();
		list_tail_add();
		
		//读取ArrayList块。LinkedList要查找index所在的位置，注意它的查找优化了一下，判断index和 size/2的大小，决定从头查找还是从尾部查找
		array_get();
		list_get();
		
//		array_delete();
//		list_delete();
	}

	private static void list_delete() {
		// TODO Auto-generated method stub
		long start = System.currentTimeMillis();
		linkedList.remove(1);
		long end = System.currentTimeMillis();

		System.out.println("list_delete 耗时:"+(end - start));
	}

	private static void array_delete() {
		// TODO Auto-generated method stub
		long start = System.currentTimeMillis();
		arrayList.remove(1);
		long end = System.currentTimeMillis();

		System.out.println("array_delete 耗时:"+(end - start));
	}

	private static void list_get() {
		long start = System.currentTimeMillis();
		
		for(int i=0;i<20;i++){
			linkedList.get(getRandow());
		}
		long end = System.currentTimeMillis();
		System.out.println("list_get 耗时:"+(end - start));

	}

	private static void array_get() {
		long start = System.currentTimeMillis();
		for(int i=0;i<20;i++){
			arrayList.get(getRandow());
		}
		long end = System.currentTimeMillis();
		System.out.println("array_get 耗时:"+(end - start));
	}

	private static void list_tail_add() {
		long start = System.currentTimeMillis();
		//每次都是末尾添加数据
		for(int i=0;i<NUM;i++){
			linkedList.add(i);
		}
		long end = System.currentTimeMillis();
		System.out.println("list_tail_add 耗时:"+(end - start));
	}

	private static void array_tail_add() {
		long start = System.currentTimeMillis();
		
		//每次都是末尾添加数据
		for(int i=0;i<NUM;i++){
			arrayList.add(i);
		}

		long end = System.currentTimeMillis();
		System.out.println("array_tail_add 耗时:"+(end - start));
	}
	
	public static int getRandow(){
		return (int)(1+Math.random()*(NUM));
	}

}
